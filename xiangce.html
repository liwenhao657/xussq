<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>æ—¶å…‰çºªå¿µå†Œ âœ¨</title>
    <style>
        :root {
            --glass-bg: rgba(17, 25, 40, 0.7);
            --glass-border: rgba(255, 255, 255, 0.12);
            --glass-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
            --accent-color: #8b5cf6;
            --accent-glow: 0 0 15px rgba(139, 92, 246, 0.6);
            --text-color: #e0e0e0;
            --transition: all 0.3s ease;
            --notebook-bg: rgba(255, 255, 255, 0.03);
            --notebook-line: rgba(255, 255, 255, 0.08);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            min-height: 100vh;
            background: linear-gradient(135deg, #0f172a, #1e1b4b);
            color: var(--text-color);
            overflow-x: hidden;
            padding: 15px;
            display: flex;
            flex-direction: column;
            align-items: center;
            transition: var(--transition);
        }

        /* å…¨å±çŠ¶æ€æ ·å¼ - å½»åº•ä¿®å¤æ‰‹æœºç«¯UIé—®é¢˜ */
        body.fullscreen {
            padding: 0;
            background: #0f172a;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            overflow: hidden;
        }

        body.fullscreen .navbar,
        body.fullscreen .sidebar,
        body.fullscreen .music-section {
            display: none !important;
        }

        body.fullscreen .album-preview {
            width: 100vw;
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 10px;
            margin: 0;
            background: transparent;
            border: none;
            box-shadow: none;
            backdrop-filter: none;
        }

        body.fullscreen .notebook {
            width: 98vw;
            max-width: none;
            aspect-ratio: 2/1.3;
            margin-bottom: 20px;
        }

        /* ç»ç’ƒæ‹Ÿæ€å®¹å™¨ */
        .glass-container {
            background: var(--glass-bg);
            border: 1px solid var(--glass-border);
            border-radius: 16px;
            box-shadow: var(--glass-shadow);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            transition: var(--transition);
            width: 100%;
            max-width: 1200px;
        }

        /* å¯¼èˆªæ  */
        .navbar {
            padding: 12px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            position: relative;
            z-index: 10;
        }

        .navbar h1 {
            font-size: clamp(1.2rem, 3vw, 1.8rem);
            background: linear-gradient(90deg, #8b5cf6, #ec4899);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-shadow: 0 0 10px rgba(139, 92, 246, 0.4);
        }

        /* æŒ‰é’®æ ¸å¿ƒä¼˜åŒ– - é€‚é…æ‰‹æœºç«¯å°ºå¯¸ */
        .btn {
            padding: clamp(8px, 3vw, 12px) clamp(12px, 4vw, 24px);
            border: none;
            border-radius: clamp(8px, 2vw, 12px);
            background: var(--accent-color);
            color: white;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            box-shadow: var(--accent-glow);
            font-size: clamp(0.8rem, 2vw, 1.1rem);
            min-width: clamp(80px, 20vw, 120px);
            height: auto;
            line-height: 1.2;
        }

        .btn:disabled {
            background: rgba(139, 92, 246, 0.3);
            box-shadow: none;
            cursor: not-allowed;
        }

        .btn:hover {
            background: #7c3aed;
            transform: translateY(-2px);
            box-shadow: 0 0 20px rgba(139, 92, 246, 0.8);
        }

        /* ä¸»å†…å®¹åŒº */
        .main-content {
            display: flex;
            flex-direction: column;
            gap: 20px;
            width: 100%;
        }

        /* ä¾§è¾¹æ  */
        .sidebar {
            padding: 20px;
            overflow-y: visible;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .upload-section {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .file-input {
            display: none;
        }

        .custom-file-input {
            padding: 12px;
            border: 2px dashed var(--glass-border);
            border-radius: 12px;
            text-align: center;
            cursor: pointer;
            transition: var(--transition);
            font-size: clamp(1rem, 2vw, 1.2rem);
        }

        .custom-file-input:hover {
            border-color: var(--accent-color);
            box-shadow: var(--accent-glow);
        }

        /* ç¼©ç•¥å›¾æ¨ªå‘æ»šåŠ¨ */
        .image-list {
            display: flex;
            gap: 10px;
            margin-top: 10px;
            overflow-x: auto;
            padding-bottom: 10px;
            scrollbar-width: thin;
        }

        .image-list::-webkit-scrollbar {
            height: 6px;
        }

        .image-list::-webkit-scrollbar-thumb {
            background: var(--accent-color);
            border-radius: 3px;
        }

        .image-thumbnail {
            width: clamp(60px, 15vw, 100px);
            height: clamp(60px, 15vw, 100px);
            border-radius: 8px;
            object-fit: cover;
            cursor: pointer;
            transition: var(--transition);
            border: 2px solid transparent;
            flex-shrink: 0;
        }

        .image-thumbnail:hover, .image-thumbnail.active {
            transform: scale(1.05);
            border-color: var(--accent-color);
            box-shadow: var(--accent-glow);
        }

        /* ç›¸å†Œé¢„è§ˆåŒº - åŒé¡µå¸ƒå±€ */
        .album-preview {
            padding: 20px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 300px;
        }

        /* å®ä½“æœ¬å­æ ·å¼ - æ ¸å¿ƒè‡ªé€‚åº”ä¼˜åŒ– */
        .notebook {
            width: 90%;
            max-width: 800px;
            aspect-ratio: 2/1.2;
            display: flex;
            position: relative;
            perspective: 2000px;
            margin-bottom: 30px;
        }

        /* è£…è®¢çº¿ */
        .notebook::before {
            content: '';
            position: absolute;
            left: 50%;
            top: 5%;
            bottom: 5%;
            width: 4px;
            background: rgba(255, 255, 255, 0.1);
            transform: translateX(-50%);
            z-index: 5;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
        }

        /* åŒé¡µæ ·å¼ - è‡ªé€‚åº”å®½é«˜ */
        .notebook-page {
            width: 50%;
            height: 100%;
            background: var(--notebook-bg);
            border: 1px solid var(--glass-border);
            border-radius: 8px;
            overflow: hidden;
            box-shadow: var(--glass-shadow);
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
            backface-visibility: hidden;
            transition: transform 0.8s cubic-bezier(0.645, 0.045, 0.355, 1);
        }

        /* å·¦é¡µ */
        .page-left {
            border-right: none;
            border-top-left-radius: 12px;
            border-bottom-left-radius: 12px;
            padding: 2%;
        }

        /* å³é¡µ */
        .page-right {
            border-left: none;
            border-top-right-radius: 12px;
            border-bottom-right-radius: 12px;
            padding: 2%;
        }

        /* çº¸å¼ çº¹ç†ï¼ˆæ¨ªçº¿ï¼‰ */
        .notebook-page::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-image: linear-gradient(var(--notebook-line) 1px, transparent 1px);
            background-size: 100% 10%;
            opacity: 0.5;
            pointer-events: none;
        }

        .page-image {
            width: 100%;
            height: 100%;
            object-fit: contain;
            border-radius: 4px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
        }

        /* ç©ºé¡µé¢æç¤º */
        .empty-page {
            font-size: clamp(0.9rem, 2vw, 1.2rem);
            color: rgba(255, 255, 255, 0.5);
            text-align: center;
            padding: 20px;
        }

        /* ç¿»é¡µåŠ¨ç”» */
        .notebook.flipping .page-right {
            transform: rotateY(-180deg);
        }

        /* å¯¼èˆªæŒ‰é’®å®¹å™¨ - æ ¸å¿ƒä¼˜åŒ– */
        .nav-buttons {
            display: flex;
            gap: clamp(8px, 2vw, 15px);
            width: 100%;
            justify-content: center;
            padding: 0 10px;
            flex-wrap: wrap;
        }

        /* éŸ³ä¹æ§åˆ¶åŒº */
        .music-section {
            position: relative;
            bottom: 0;
            left: 0;
            transform: none;
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 12px 15px;
            width: 100%;
            max-width: 100%;
            margin-top: 20px;
        }

        .music-player {
            flex: 1;
            padding: 8px;
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid var(--glass-border);
            width: 100%;
        }

        #musicPlayer {
            display: block;
            width: 100%;
        }

        /* å¹³æ¿åŠä»¥ä¸Šé€‚é… */
        @media (min-width: 768px) {
            .main-content {
                grid-template-columns: 1fr 3fr;
                height: calc(100vh - 150px);
                display: grid;
            }

            .image-list {
                display: grid;
                grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
                overflow-x: hidden;
                overflow-y: auto;
                max-height: 300px;
            }
        }

        /* æ‰‹æœºç«¯å¼ºåˆ¶è‡ªé€‚åº” - å½»åº•è§£å†³æ˜¾ç¤ºä¸å…¨å’ŒæŒ‰é’®æº¢å‡ºé—®é¢˜ */
        @media (max-width: 767px) {
            /* æ ¸å¿ƒæŒ‰é’®ç¼©å° - è§£å†³è¶…å‡ºå±å¹•é—®é¢˜ */
            .btn {
                padding: 8px 12px;
                min-width: 70px;
                font-size: 0.8rem;
                border-radius: 8px;
            }
            
            .notebook {
                width: 98%;
                aspect-ratio: 2/1.5;
            }
            
            .notebook::before {
                width: 3px;
            }
            
            /* å…¨å±çŠ¶æ€ä¸‹çš„æ‰‹æœºç«¯ä¼˜åŒ– */
            body.fullscreen .notebook {
                aspect-ratio: 2/1.5;
                width: 98vw;
            }
            
            .album-preview {
                padding: 10px;
            }
            
            .nav-buttons {
                gap: 8px;
            }
            
            /* é˜²æ­¢æŒ‰é’®æ–‡å­—æ¢è¡Œ */
            .btn {
                white-space: nowrap;
            }
        }
    </style>
</head>
<body>
    <!-- å¯¼èˆªæ  -->
    <div class="glass-container navbar">
        <h1>æ—¶å…‰çºªå¿µå†Œ âœ¨</h1>
        <button class="btn" id="clearAllBtn">æ¸…ç©ºçºªå¿µå†Œ</button>
    </div>

    <!-- ä¸»å†…å®¹åŒº -->
    <div class="main-content">
        <!-- ä¾§è¾¹æ  -->
        <div class="glass-container sidebar">
            <div class="upload-section">
                <h3>æ·»åŠ ç…§ç‰‡</h3>
                <label for="imageUpload" class="custom-file-input">
                    ğŸ“¸ ç‚¹å‡»ä¸Šä¼ å›¾ç‰‡
                </label>
                <input type="file" id="imageUpload" class="file-input" accept="image/*" multiple>
            </div>

            <div class="upload-section">
                <h3>æ·»åŠ èƒŒæ™¯éŸ³ä¹</h3>
                <label for="musicUpload" class="custom-file-input">
                    ğŸµ ç‚¹å‡»ä¸Šä¼ éŸ³ä¹
                </label>
                <input type="file" id="musicUpload" class="file-input" accept="audio/*">
            </div>

            <div>
                <h3>ç…§ç‰‡åˆ—è¡¨</h3>
                <div class="image-list" id="imageList">
                    <!-- ç¼©ç•¥å›¾å°†åŠ¨æ€æ·»åŠ  -->
                </div>
            </div>
        </div>

        <!-- ç›¸å†Œé¢„è§ˆåŒº -->
        <div class="glass-container album-preview">
            <!-- åŒé¡µæœ¬å­ -->
            <div class="notebook" id="notebook">
                <!-- å·¦é¡µ -->
                <div class="notebook-page page-left" id="pageLeft">
                    <div class="empty-page">ä¸Šä¼ ç…§ç‰‡å¡«å……å·¦é¡µ ğŸ“·</div>
                </div>
                <!-- å³é¡µ -->
                <div class="notebook-page page-right" id="pageRight">
                    <div class="empty-page">ä¸Šä¼ ç…§ç‰‡å¡«å……å³é¡µ ğŸ“·</div>
                </div>
            </div>

            <div class="nav-buttons">
                <button class="btn" id="prevBtn" disabled>ä¸Šä¸€é¡µ</button>
                <button class="btn" id="fullscreenBtn">å…¨å±æŸ¥çœ‹</button>
                <button class="btn" id="nextBtn" disabled>ä¸‹ä¸€é¡µ</button>
            </div>

            <div class="glass-container music-section">
                <span>ğŸµ èƒŒæ™¯éŸ³ä¹</span>
                <audio id="musicPlayer" controls hidden class="music-player">
            </div>
        </div>
    </div>

    <script>
        // å…¨å±€å˜é‡
        let images = JSON.parse(localStorage.getItem('albumImages')) || [];
        let currentPageIndex = 0;
        let isFullscreen = false;
        const imageListEl = document.getElementById('imageList');
        const notebookEl = document.getElementById('notebook');
        const pageLeftEl = document.getElementById('pageLeft');
        const pageRightEl = document.getElementById('pageRight');
        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');
        const fullscreenBtn = document.getElementById('fullscreenBtn');
        const imageUpload = document.getElementById('imageUpload');
        const musicUpload = document.getElementById('musicUpload');
        const musicPlayer = document.getElementById('musicPlayer');
        const clearAllBtn = document.getElementById('clearAllBtn');
        const bodyEl = document.body;

        // åˆå§‹åŒ–
        init();

        function init() {
            renderImageList();
            renderNotebookPages();
            updateNavButtons();
            bindEvents();
            // çª—å£å¤§å°å˜åŒ–æ—¶é‡æ–°æ¸²æŸ“æœ¬å­
            window.addEventListener('resize', renderNotebookPages);
            // ç›‘å¬å…¨å±çŠ¶æ€å˜åŒ–
            document.addEventListener('fullscreenchange', handleFullscreenChange);
            document.addEventListener('webkitfullscreenchange', handleFullscreenChange);
            document.addEventListener('mozfullscreenchange', handleFullscreenChange);
            document.addEventListener('MSFullscreenChange', handleFullscreenChange);
        }

        // è®¡ç®—æ€»æœ¬å­é¡µæ•°ï¼ˆæ¯2å¼ å›¾ç‰‡ä¸€é¡µï¼‰
        function getTotalNotebookPages() {
            return Math.ceil(images.length / 2);
        }

        // æ¸²æŸ“å›¾ç‰‡åˆ—è¡¨
        function renderImageList() {
            imageListEl.innerHTML = '';
            if (images.length === 0) return;

            images.forEach((src, index) => {
                const imgEl = document.createElement('img');
                imgEl.src = src;
                imgEl.alt = `ç…§ç‰‡ ${index + 1}`;
                imgEl.className = `image-thumbnail ${isCurrentPageImage(index) ? 'active' : ''}`;
                imgEl.addEventListener('click', () => {
                    // ç‚¹å‡»ç¼©ç•¥å›¾è·³è½¬åˆ°å¯¹åº”æœ¬å­é¡µ
                    currentPageIndex = Math.floor(index / 2);
                    renderNotebookPages();
                    updateActiveThumbnail();
                    updateNavButtons();
                });
                imageListEl.appendChild(imgEl);
            });
        }

        // åˆ¤æ–­æ˜¯å¦ä¸ºå½“å‰é¡µå›¾ç‰‡
        function isCurrentPageImage(index) {
            const startIndex = currentPageIndex * 2;
            return index >= startIndex && index < startIndex + 2;
        }

        // æ¸²æŸ“æœ¬å­åŒé¡µ
        function renderNotebookPages() {
            const startIndex = currentPageIndex * 2;
            const leftImage = images[startIndex];
            const rightImage = images[startIndex + 1];

            // æ¸²æŸ“å·¦é¡µ
            renderSinglePage(pageLeftEl, leftImage, startIndex);
            // æ¸²æŸ“å³é¡µ
            renderSinglePage(pageRightEl, rightImage, startIndex + 1);

            // æ›´æ–°ç¼©ç•¥å›¾æ¿€æ´»çŠ¶æ€
            updateActiveThumbnail();
        }

        // æ¸²æŸ“å•é¡µå†…å®¹
        function renderSinglePage(pageEl, imageSrc, imageIndex) {
            if (imageSrc) {
                // æœ‰å›¾ç‰‡æ—¶æ˜¾ç¤ºå›¾ç‰‡
                pageEl.innerHTML = `<img src="${imageSrc}" alt="ç…§ç‰‡ ${imageIndex + 1}" class="page-image">`;
            } else {
                // æ— å›¾ç‰‡æ—¶æ˜¾ç¤ºç©ºé¡µé¢æç¤º
                pageEl.innerHTML = `<div class="empty-page">${imageIndex ? 'æš‚æ— ç…§ç‰‡ ğŸ“­' : 'ä¸Šä¼ ç…§ç‰‡å¡«å……é¡µé¢ ğŸ“·'}</div>`;
            }
        }

        // æ›´æ–°å¯¼èˆªæŒ‰é’®çŠ¶æ€
        function updateNavButtons() {
            const totalPages = getTotalNotebookPages();
            prevBtn.disabled = currentPageIndex === 0;
            nextBtn.disabled = currentPageIndex >= totalPages - 1;
            // æ— å›¾ç‰‡æ—¶ç¦ç”¨å…¨å±æŒ‰é’®
            fullscreenBtn.disabled = images.length === 0;
        }

        // æ›´æ–°æ¿€æ´»çš„ç¼©ç•¥å›¾
        function updateActiveThumbnail() {
            document.querySelectorAll('.image-thumbnail').forEach((el, index) => {
                el.classList.toggle('active', isCurrentPageImage(index));
            });
        }

        // ç¿»é¡µåŠ¨ç”»
        function flipPage(direction) {
            notebookEl.classList.add('flipping');
            setTimeout(() => {
                currentPageIndex += direction;
                renderNotebookPages();
                updateNavButtons();
                notebookEl.classList.remove('flipping');
            }, 400); // ä¸CSSåŠ¨ç”»æ—¶é•¿ä¸€è‡´
        }

        // å¤„ç†å…¨å±çŠ¶æ€åˆ‡æ¢ - ä¿®å¤æ‰‹æœºç«¯å…¨å±é€‚é…
        function toggleFullscreen() {
            if (!isFullscreen) {
                // è¿›å…¥å…¨å± - ä¼˜åŒ–æ‰‹æœºç«¯ä½“éªŒ
                if (bodyEl.requestFullscreen) {
                    bodyEl.requestFullscreen();
                } else if (bodyEl.webkitRequestFullscreen) {
                    bodyEl.webkitRequestFullscreen();
                } else if (bodyEl.mozRequestFullScreen) {
                    bodyEl.mozRequestFullScreen();
                } else if (bodyEl.msRequestFullscreen) {
                    bodyEl.msRequestFullscreen();
                }
                // æ‰‹æœºç«¯é¢å¤–å¤„ç† - ç¡®ä¿å†…å®¹å±…ä¸­
                if (window.innerWidth <= 767) {
                    bodyEl.style.display = 'flex';
                    bodyEl.style.justifyContent = 'center';
                    bodyEl.style.alignItems = 'center';
                }
            } else {
                // é€€å‡ºå…¨å±
                if (document.exitFullscreen) {
                    document.exitFullscreen();
                } else if (document.webkitExitFullscreen) {
                    document.webkitExitFullscreen();
                } else if (document.mozCancelFullScreen) {
                    document.mozCancelFullScreen();
                } else if (document.msExitFullscreen) {
                    document.msExitFullscreen();
                }
                // æ¢å¤æ‰‹æœºç«¯å¸ƒå±€
                if (window.innerWidth <= 767) {
                    bodyEl.style.display = '';
                    bodyEl.style.justifyContent = '';
                    bodyEl.style.alignItems = '';
                }
            }
        }

        // ç›‘å¬å…¨å±çŠ¶æ€å˜åŒ–
        function handleFullscreenChange() {
            isFullscreen = !!(document.fullscreenElement || document.webkitFullscreenElement || document.mozFullScreenElement || document.msFullscreenElement);
            bodyEl.classList.toggle('fullscreen', isFullscreen);
            fullscreenBtn.textContent = isFullscreen ? 'é€€å‡ºå…¨å±' : 'å…¨å±æŸ¥çœ‹';
            renderNotebookPages();
            // ä¿®å¤æ‰‹æœºç«¯å…¨å±ä¸‹çš„æŒ‰é’®æ˜¾ç¤º
            updateNavButtons();
        }

        // ç»‘å®šäº‹ä»¶
        function bindEvents() {
            // å›¾ç‰‡ä¸Šä¼ 
            imageUpload.addEventListener('change', (e) => {
                const files = e.target.files;
                if (!files.length) return;

                Array.from(files).forEach(file => {
                    const reader = new FileReader();
                    reader.onload = (event) => {
                        images.push(event.target.result);
                        saveToLocalStorage();
                        renderImageList();
                        renderNotebookPages();
                        updateNavButtons();
                    };
                    reader.readAsDataURL(file);
                });
            });

            // éŸ³ä¹ä¸Šä¼ 
            musicUpload.addEventListener('change', (e) => {
                const file = e.target.files[0];
                if (!file) return;

                const audioUrl = URL.createObjectURL(file);
                musicPlayer.src = audioUrl;
                musicPlayer.hidden = false;
            });

            // ä¸Šä¸€é¡µ
            prevBtn.addEventListener('click', () => {
                if (currentPageIndex > 0) {
                    flipPage(-1);
                }
            });

            // ä¸‹ä¸€é¡µ
            nextBtn.addEventListener('click', () => {
                if (currentPageIndex < getTotalNotebookPages()-1) {
                    flipPage(1);
                }
            });

            // å…¨å±åˆ‡æ¢
            fullscreenBtn.addEventListener('click', toggleFullscreen);

            // æ¸…ç©ºæ‰€æœ‰
            clearAllBtn.addEventListener('click', () => {
                if (confirm('ç¡®å®šè¦æ¸…ç©ºæ‰€æœ‰ç…§ç‰‡å—ï¼Ÿæ­¤æ“ä½œä¸å¯æ¢å¤ï¼')) {
                    images = [];
                    currentPageIndex = 0;
                    saveToLocalStorage();
                    renderImageList();
                    renderNotebookPages();
                    updateNavButtons();
                }
            });

            // é”®ç›˜å¯¼èˆª
            document.addEventListener('keydown', (e) => {
                if (images.length === 0) return;
                if (e.key === 'ArrowLeft') prevBtn.click();
                if (e.key === 'ArrowRight') nextBtn.click();
                // ESCé”®é€€å‡ºå…¨å±
                if (e.key === 'Escape' && isFullscreen) {
                    toggleFullscreen();
                }
            });

            // æ‰‹æœºç«¯æ»‘åŠ¨ç¿»é¡µ - å¢å¼ºè§¦æ‘¸å“åº”
            let startX = 0;
            let touchStartTime = 0;
            notebookEl.addEventListener('touchstart', (e) => {
                startX = e.touches[0].clientX;
                touchStartTime = Date.now();
                e.preventDefault(); // é˜»æ­¢é¡µé¢æ»šåŠ¨å¹²æ‰°
            }, { passive: false });

            notebookEl.addEventListener('touchend', (e) => {
                const totalPages = getTotalNotebookPages();
                if (totalPages <= 1) return;

                const endX = e.changedTouches[0].clientX;
                const diffX = startX - endX;
                const touchDuration = Date.now() - touchStartTime;
                
                // æ»‘åŠ¨è·ç¦»å’Œæ—¶é—´é˜ˆå€¼ï¼Œé˜²æ­¢è¯¯è§¦
                if (touchDuration < 500 && Math.abs(diffX) > 30) {
                    if (diffX > 0) {
                        // å‘å·¦æ»‘åŠ¨ â†’ ä¸‹ä¸€é¡µ
                        nextBtn.click();
                    } else if (diffX < 0) {
                        // å‘å³æ»‘åŠ¨ â†’ ä¸Šä¸€é¡µ
                        prevBtn.click();
                    }
                }
            });
        }

        // ä¿å­˜åˆ°æœ¬åœ°å­˜å‚¨
        function saveToLocalStorage() {
            localStorage.setItem('albumImages', JSON.stringify(images));
        }
    </script>
</body>
</html>
